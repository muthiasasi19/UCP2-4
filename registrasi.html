<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="assets/fontawesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=|Roboto+Sans:400,700|Playfair+Display:400,700">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/aos.css">
    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">
    <link rel="stylesheet" href="css/fancybox.min.css">
    
    <link rel="stylesheet" href="fonts/ionicons/css/ionicons.min.css">
    <link rel="stylesheet" href="fonts/fontawesome/css/font-awesome.min.css">

    <!-- Theme Style -->
    <link rel="stylesheet" href="css/style.css">
    <title>Registrasi</title>
</head>
<body class="bg-light">

<div class="container my-5">
    <div class="row d-flex justify-content-center">
        <div class="col-sm-12 col-lg-8">
            <div class="card card-body shadow-sm">
                <center class="mb-4">
                    <h4>Registrasi Akun</h4>
                </center>
                <div class="row d-flex justify-content-center">
                    <div class="col-sm-12 col-lg-7 mb-4">
                        <input type="text" name="nama" class="form-control mb-2" placeholder="Nama">
                        <small id="namaError" class="text-danger d-none">Nama harus diisi.</small>
                        
                        <input type="email" name="email" class="form-control mb-2" placeholder="Email">
                        <small id="emailError" class="text-danger d-none">Email harus format yang benar (e.g., user@gmail.com).</small>
                        
                        <input type="text" name="username" class="form-control mb-2" placeholder="Username">
                        <small id="usernameError" class="text-danger d-none">Username harus diisi.</small>
                        
                        <input type="password" name="password" class="form-control mb-2" placeholder="Password">
                        <small id="passwordError" class="text-danger d-none">Password harus terdiri dari 8 karakter dengan kombinasi angka, huruf besar, dan huruf kecil.</small>
                        
                        <input type="password" name="confirm_password" class="form-control mb-2" placeholder="Konfirmasi Password">
                        <small id="confirmPasswordError" class="text-danger d-none">Konfirmasi Password harus diisi.</small>
                        <small id="passwordMismatchError" class="text-danger d-none">Konfirmasi Password tidak sesuai.</small>
                        
                        <button type="button" class="btn bg-website text-white btn-block mb-3">Daftar</button>
                        <a href="login.html" class="float-right">Sudah punya akun? Login</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="assets/js/jquery-3.3.1.slim.min.js"></script>
<script src="assets/js/popper.min.js"></script>
<script src="assets/bootstrap/js/bootstrap.min.js"></script>
<script>
    document.querySelector('button').addEventListener('click', function() {
        // Ambil nilai input
        var nama = document.querySelector('input[name=nama]').value;
        var email = document.querySelector('input[name=email]').value;
        var username = document.querySelector('input[name=username]').value;
        var password = document.querySelector('input[name=password]').value;
        var confirm_password = document.querySelector('input[name=confirm_password]').value;

        // Ambil elemen error message
        var namaError = document.getElementById('namaError');
        var emailError = document.getElementById('emailError');
        var usernameError = document.getElementById('usernameError');
        var passwordError = document.getElementById('passwordError');
        var confirmPasswordError = document.getElementById('confirmPasswordError');
        var passwordMismatchError = document.getElementById('passwordMismatchError');

        // Regular expressions for validation
        var emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        var passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/;

        // Validasi input
        var valid = true;

        if (nama === '') {
            namaError.classList.remove('d-none');
            valid = false;
        } else {
            namaError.classList.add('d-none');
        }

        if (email === '' || !emailPattern.test(email)) {
            emailError.classList.remove('d-none');
            valid = false;
        } else {
            emailError.classList.add('d-none');
        }

        if (username === '') {
            usernameError.classList.remove('d-none');
            valid = false;
        } else {
            usernameError.classList.add('d-none');
        }

        if (password === '' || !passwordPattern.test(password)) {
            passwordError.classList.remove('d-none');
            valid = false;
        } else {
            passwordError.classList.add('d-none');
        }

        if (confirm_password === '') {
            confirmPasswordError.classList.remove('d-none');
            valid = false;
        } else {
            confirmPasswordError.classList.add('d-none');
        }

        if (password !== confirm_password) {
            passwordMismatchError.classList.remove('d-none');
            valid = false;
        } else {
            passwordMismatchError.classList.add('d-none');
        }

        if (!valid) {
            return;
        }

        // Proses registrasi (misalnya, kirim data ke server)
        // Di sini Anda dapat menambahkan kode untuk mengirim data registrasi ke server atau melakukan tindakan lain yang diperlukan.
        
        alert('Registrasi berhasil!');
        // Setelah proses registrasi berhasil, Anda dapat mengarahkan pengguna ke halaman lain, misalnya halaman login.
        window.location.href = 'login.html';
    });

    function checkInput() {
        var nama = document.querySelector('input[name=nama]').value;
        var email = document.querySelector('input[name=email]').value;
        var username = document.querySelector('input[name=username]').value;
        var password = document.querySelector('input[name=password]').value;
        var confirm_password = document.querySelector('input[name=confirm_password]').value;

        var emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        var passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/;

        document.getElementById('namaError').classList.toggle('d-none', nama !== '');
        document.getElementById('emailError').classList.toggle('d-none', email !== '' && emailPattern.test(email));
        document.getElementById('usernameError').classList.toggle('d-none', username !== '');
        document.getElementById('passwordError').classList.toggle('d-none', password !== '' && passwordPattern.test(password));
        document.getElementById('confirmPasswordError').classList.toggle('d-none', confirm_password !== '');
        document.getElementById('passwordMismatchError').classList.toggle('d-none', password === confirm_password);
    }

    document.querySelector('input[name=nama]').addEventListener('input', checkInput);
    document.querySelector('input[name=email]').addEventListener('input', checkInput);
    document.querySelector('input[name=username]').addEventListener('input', checkInput);
    document.querySelector('input[name=password]').addEventListener('input', checkInput);
    document.querySelector('input[name=confirm_password]').addEventListener('input', checkInput);
</script>
</body>
</html>
